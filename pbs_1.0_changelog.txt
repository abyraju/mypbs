â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PBS â€” Personal Banking System
CHANGELOG â€” v1.0.0  First Formal Release
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OVERVIEW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

First formal release. Two focused changes from v0.5.4:

  1. Charts section completely rebuilt â€” two static side-by-side
     cards replaced with a single full-width tabbed card housing
     four distinct chart views.

  2. Payment method list redesigned â€” card name on top, total
     amount spent on the right, supporting info below.

No data model changes. No sync format changes. Fully backward
compatible with all v0.5.x localStorage data.


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FEATURE 1 â€” TABBED CHART SECTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BEFORE (v0.5.4):
  Two fixed side-by-side cards â€” "Spending Over Time" (line)
  and "By Category" (donut) â€” with a separate date filter card
  below them. The two-column grid collapsed to single column on
  mobile but each chart still occupied its own card with its
  own padding and heading.

AFTER (v1.0.0):
  One full-width card with a pill-tab switcher at the top.
  Switching tabs shows a different chart canvas; only the active
  chart is rendered. The date filter row is merged into the card
  header and is always visible regardless of which tab is active.

NEW â€” Four chart tabs

  ğŸ“ˆ Over Time
    The existing daily spending line chart. Now full card width
    instead of half. Person and Card filters are shown only on
    this tab (hidden on all others).

  ğŸ© By Category
    The existing donut chart, now full card width and paired
    with a custom legend table to its right. The table lists
    every category sorted by spend, with a colour swatch and
    percentage. The built-in Chart.js legend is disabled in
    favour of this cleaner sidebar list. The Category filter
    dropdown is shown only on this tab.

  ğŸ‘¤ By Person
    New horizontal bar chart. Each bar represents one person,
    length proportional to their total spend across all
    filtered transactions. Bars are individually coloured using
    the shared CHART_COLORS palette. No additional filters â€”
    From/To date range applies.

  ğŸ“… Monthly
    New grouped bar chart covering the last 6 calendar months.
    Automatically identifies your top 5 spending categories
    across all time and plots one bar per category per month,
    side by side within each month group. Includes a bottom
    legend identifying each category by colour. No additional
    filters â€” always shows the trailing 6 months regardless
    of the From/To range.

CHANGED â€” Filter layout
  The separate "Date filters + actions" card that sat below the
  charts is removed. Its contents are now in the chart card
  header:
    Â· From and To date inputs â€” always visible, inline
    Â· Person select â€” visible only on the Over Time tab
    Â· Card select â€” visible only on the Over Time tab
    Â· Category select â€” visible only on the By Category tab
    Â· âœ• Clear button â€” clears all filters, re-renders active tab
    Â· ğŸ“Š Summary button â€” opens the monthly summary card modal

CHANGED â€” CSS
  Â· New .chart-tabs, .chart-tab-btn, .chart-panel classes added
  Â· .chart-tab-btn uses pill style (border-radius: 20px) with
    gold fill on active state
  Â· .chart-panel { display: none } / .chart-panel.active
    { display: block } controls visibility per tab
  Â· .charts-grid CSS class retained for backward compat but
    the two-card grid HTML is gone

CHANGED â€” JS â€” new globals
  let personChart  = null;
  let monthlyChart = null;
  let activeChartTab = 'time';

CHANGED â€” JS â€” new functions
  switchChartTab(tab, btn)
    Â· Sets activeChartTab, toggles .active on panels and buttons
    Â· Shows/hides contextual filter elements per tab
    Â· Calls renderCharts() to render only the newly active chart

  renderCharts()
    Â· Now dispatches to one of four render functions based on
      activeChartTab rather than always rendering both charts

  renderPersonChart(txs, â€¦)
    Â· Aggregates total spend per person name from filtered txs
    Â· Renders a Chart.js horizontal bar (indexAxis: 'y') chart
    Â· Sorted descending by total spend
    Â· requestAnimationFrame resize call after creation

  renderMonthlyChart(â€¦)
    Â· Builds an array of the last 6 YYYY-MM month strings
    Â· Finds top 5 categories by all-time total spend
    Â· For each category, sums spend within each of the 6 months
    Â· Renders a Chart.js grouped bar chart (stacked: false)
    Â· requestAnimationFrame resize call after creation

CHANGED â€” JS â€” existing functions
  renderLineChart()
    Â· Signature updated to accept pre-computed isDark, gridColor,
      tickColor, isMobile, sym rather than re-computing them
    Â· Logic otherwise unchanged

  renderDonutChart()
    Â· Signature updated (same pattern as above)
    Â· Chart.js legend disabled â€” replaced by custom HTML legend
      rendered into #catLegendTable alongside the canvas
    Â· Legend shows: colour swatch, category name, percentage
    Â· Sorted by spend descending so highest category is first

  ResizeObserver (in init())
    Â· Observer target changed from .charts-grid to the parent
      .card element of #chartPanel-time
    Â· Now calls resize() on all four chart instances, not just
      lineChart and donutChart

  window resize listener
    Â· Was: if (lineChart || donutChart) renderCharts()
    Â· Now: renderCharts() unconditionally when dashboard is active
      (new charts may not yet exist on first resize)

CHANGED â€” HTML â€” chart section
  Old structure:
    <div class="charts-grid">        â† two-column grid
      <div class="card">lineChart</div>
      <div class="card">donutChart</div>
    </div>
    <div class="card">filters</div> â† separate card

  New structure:
    <div class="card p-5">          â† one full-width card
      <div>tab pills + filters</div>
      <div class="chart-panel" id="chartPanel-time">lineChart</div>
      <div class="chart-panel" id="chartPanel-category">donutChart + legend</div>
      <div class="chart-panel" id="chartPanel-person">personChart</div>
      <div class="chart-panel" id="chartPanel-monthly">monthlyChart</div>
    </div>


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FEATURE 2 â€” PAYMENT METHOD LIST REDESIGN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BEFORE (v0.5.4):
  Each payment card showed:
    [icon]  Name â€¢â€¢last4
            method Â· symbol currency Â· N tx
            [Edit] [Del]  â† admin only, inline right

  The "price" (total spent) was not shown at all. Edit and Del
  buttons were floated to the far right of the single row,
  which looked cramped on mobile.

AFTER (v1.0.0):
  Each payment card shows:
    [icon]  Name â€¢â€¢last4          $total.00
            method Â· currency Â· N tx   total spent
            [Edit] [Del]  â† admin only, below the name

  Changes in detail:

  Total spend calculation
    Â· renderPaymentList() now filters DB.transactions by
      paymentId and sums the amount field
    Â· Displayed as sym + total.toFixed(2) in DM Mono, 16px,
      font-weight 700, right-aligned

  "total spent" label
    Â· 10px muted text below the amount, right-aligned
    Â· Gives clear context â€” it is cumulative across all time,
      not a balance or limit

  Name line
    Â· Font size explicit at 14px
    Â· overflow: hidden + text-overflow: ellipsis + white-space:
      nowrap applied so long card names don't break the layout
    Â· min-width: 0 on parent div allows it to shrink correctly

  Admin buttons
    Â· Moved from the far right of the header row to a flex row
      below the name/meta text (inside the left column)
    Â· margin-top: 8px separates them from the meta line
    Â· Right side of the card is now solely the amount display,
      uncluttered by action buttons

  Icon container
    Â· align-items: center on the outer flex row changed to keep
      the icon vertically centred against the taller left column
    Â· No size or colour changes to the icon badge itself


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
VERSION HISTORY SUMMARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  v0.5.0  Mobile responsive rewrite
  v0.5.1  Six responsive bug fixes (CSS cascade, modal, tabs)
  v0.5.2  Mobile modal bottom-sheet polish, input left padding
  v0.5.3  Transaction Name field, input truncation, tx tab width
  v0.5.4  Chart responsive fix (grid reflow, ResizeObserver)
  v1.0.0  Tabbed chart section, payment list total spend display


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF CHANGELOG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
